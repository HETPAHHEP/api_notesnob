# API NoteSnob

## Описание

Проект NoteSnob представляет собой базу отзывов о фильмах, книгах и музыке.

Пользователи могут писать собственную рецензию и ставить оценку произведению по 10-балльной шкале.
Из оценок обзоров формируется средний рейтинг произведения. 
Другие пользователи могут оставлять свои комментарии на рецензии.

## Технические особенности

* При регистрации пользователь оправляет свои данные (username, email), после чего получает на почту
код. Для получения JWT токена аутентификации необходимо отправить username и полученный код с почты.
* Для аутентификации используется **_только Access токен_**. Если необходимо получить токен снова, 
то для этого отправляется новый код на почту.

## Использованные технологии

* [Python 3.11](https://www.python.org/downloads/release/python-3110/)
* [Django 4.2](https://docs.djangoproject.com/en/4.2/)
* [Django REST framework 3.14](https://www.django-rest-framework.org)

## Установка проекта

**Клонируйте данный проект, после установите виртуальное окружение:**

```bash
python -m venv venv
```

```bash
source venv/Scripts/activate
```

**Установите необходимые зависимости:**

```bash
pip install -r requirements.txt
```

**Создайте _dotenv-файл_ и занесите необходимые переменные:**

1) Создание секретного ключа JWT

    ```bash
    openssl rand -hex 32
    ```

2) Создание секретного ключа Django

    ```bash
    ./manage.py shell -c "from django.core.management import utils; 
    print('django-insecure-' + utils.get_random_secret_key())"
    ```

3) Занесите необходимые переменные 

    ```dotenv
    EMAIL=your_sending_email
    JWT_SECRET_KEY=your_jwt_secret_key
    DJANGO_SECRET_KEY=your_djangp_secret_key
    ```

**Выполните миграции:**

```bash
./manage.py migrate
```

## Данные для тестирования

Для удобной проверки доступны данные в CSV. Чтобы их импортировать в вашу базу данных,
используйте команду:

```bash
./manage.py start_import
```

## Документация

Более подробные особенности работы проекта и доступные эндпоинты есть в документации:

**[127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc/)**
